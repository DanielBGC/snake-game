<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake</title>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <script>
        let canvas;
        let ctx;
        let WIDTH;
        let HEIGHT;
        let FPS;
        let tileSize;

        let snake;

        function resizeWindow() {
            //largura total da tela
            WIDTH = window.innerWidth;

            //altura total da tela
            HEIGHT = window.innerHeight;

            canvas.width = WIDTH;
            canvas.height = HEIGHT;

            //fator de escala para cada quadradinho
            tileSize = Math.max( parseInt(WIDTH/60), parseInt(HEIGHT/60) );
        }

        //A função é chamada sempre que a tela for redimensionada
        window.addEventListener("resize", resizeWindow)

        function init() {
            canvas = document.createElement("canvas");
            resizeWindow();

            document.body.appendChild(canvas);

            ctx = canvas.getContext("2d");

            FPS = 30;

            newGame();
            run();
        };
        init()

        function newGame() {
            snake = new Snake();
        }

        function Snake() {
            
            //tamanho inicial com 3 quadradinhos
            this.body = [ [10, 10], [10, 11], [10, 12] ];

            //desenha a cobra
            this.draw = function() {
                ctx.fillStyle = "#000";

                for(let i = 0; i < this.body.length; i++) {
                    ctx.fillRect(this.body[i][0] * tileSize, this.body[i][1] * tileSize, tileSize, tileSize)
                }
            }
        }

        function update() {
            
        }
        
        function draw() {
            //limpa a tela inteira
            ctx.clearRect(0, 0, WIDTH, HEIGHT);

            snake.draw()
        }

        function run() {
            update();
            draw();

            setTimeout(run, 1000/FPS)
            // requestAnimationFrame(run)
        }

    </script>
</body>
</html>